{"subject_name":"code","chapters":[{"chapter_name":"test code","topics":[{"topic_name":"code layout test","topic_html":"<div class=\"col-12 col-md-11 col-lg-9 my-2 px-md-2 pb-4 content-section\" data-el=\"section\"><ul class=\"ul ps-4 ps-md-5 py-3 li-disk\" data-el=\"list-container\"> <li data-el=\"list\">This is list item1</li> <li data-el=\"list\" class=\"selectedEl\">This is list item2<pre class=\"copy-container code-container\" data-el=\"code-container\">\n      <div class=\"code-header p-2 d-flex align-items-center flex-nowrap\">\n      <p class=\"mx-1 flex-grow-1 text-truncate\" data-el=\"code-title\">javascript</p>\n      <i class=\"fa-solid fa-clipboard copy-btn  flex-shrink-0 i-btn rounded-circle\" title=\"copy code\"></i>\n      </div>\n      <code class=\"language-javascript code-main copy-text scroll scroll-both scroll-on-hover scroll-min hljs\" data-highlighted=\"yes\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Doc</span> {\n    \n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">username, token</span>) {\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">username</span> = username;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">token</span> = token;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_subject</span> = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_chapter</span> = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_topic</span> = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">user_data</span> = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_subject_changes</span> = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initUserRepo</span>();\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">initUserRepo</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">const</span> { <span class=\"hljs-title class_\">UserRepo</span> } = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">import</span>(<span class=\"hljs-string\">'./allModule/userRepo.js'</span>);\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">userRepo</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">UserRepo</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">username</span>, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">token</span>,<span class=\"hljs-variable language_\">this</span>);\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">init</span>();       \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">test</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-comment\">// click('#testBtn')</span>\n        <span class=\"hljs-comment\">// click('#openBtn')</span>\n        <span class=\"hljs-comment\">// get('#prompt-offcanvas-hide-btn').click()</span>\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">init</span>(<span class=\"hljs-params\">retries = <span class=\"hljs-number\">3</span></span>) {\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'...checking repositories'</span>);\n        <span class=\"hljs-title function_\">addBottomLoading</span>(<span class=\"hljs-string\">'#nav'</span>, <span class=\"hljs-string\">'once'</span>);\n\n        <span class=\"hljs-keyword\">let</span> repo_result = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">userRepo</span>.<span class=\"hljs-title function_\">checkRequirement</span>();\n        <span class=\"hljs-keyword\">if</span> (!repo_result) {\n            <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'failed to load repositories'</span>);\n            <span class=\"hljs-title function_\">removeBottomLoading</span>(<span class=\"hljs-string\">'#nav'</span>);\n            <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'...reloading'</span>);\n            <span class=\"hljs-keyword\">if</span> (retries &gt; <span class=\"hljs-number\">0</span>) {\n                <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">async</span> () =&gt; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">init</span>(retries - <span class=\"hljs-number\">1</span>),<span class=\"hljs-number\">1500</span>);\n            } <span class=\"hljs-keyword\">else</span> {\n                <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'failed to load repositories'</span>);\n                <span class=\"hljs-title function_\">removeBottomLoading</span>(<span class=\"hljs-string\">'#nav'</span>);\n                <span class=\"hljs-keyword\">return</span>;\n            }\n        }\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'...checking userdata'</span>);\n        <span class=\"hljs-keyword\">let</span> userData = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">userRepo</span>.<span class=\"hljs-title function_\">getFile</span>(<span class=\"hljs-string\">'user.json'</span>);\n        <span class=\"hljs-keyword\">if</span> (!userData) {\n            <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'failed to load userdata, reloading'</span>);\n            <span class=\"hljs-title function_\">removeBottomLoading</span>(<span class=\"hljs-string\">'#nav'</span>);\n            <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> <span class=\"hljs-title function_\">click</span>(<span class=\"hljs-string\">'#page-reload-btn'</span>),<span class=\"hljs-number\">1500</span>);\n            <span class=\"hljs-keyword\">return</span>;\n        }\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-string\">'repositories loaded'</span>);\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">user_data</span> = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(<span class=\"hljs-title function_\">base64ToUtf8</span>(userData.<span class=\"hljs-property\">content</span>));\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showUserDetails</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showSubjectList</span>();\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">newSubjectHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">newChapterHandler</span>();\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">subjectRenameHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">chapterRenameHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">topicRenameHandler</span>();\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">subjectDeleteHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">chapterDeleteHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">topicDeleteHandler</span>();\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">handleReload</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">handleMediaManager</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">userRepo</span>);\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">modalContentHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initContentCreating</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">saveContentHandler</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">handleEventDelegation</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">handleContentShare</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">showUserHistory</span>()\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-params\">folder, module_name, isAsync, ...args</span>) {\n        <span class=\"hljs-keyword\">const</span> mod = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">import</span>(<span class=\"hljs-string\">`./<span class=\"hljs-subst\">${folder}</span>/<span class=\"hljs-subst\">${module_name}</span>.js`</span>);\n        <span class=\"hljs-keyword\">if</span> (isAsync) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">await</span> mod[module_name](...args); }\n        <span class=\"hljs-keyword\">else</span> { <span class=\"hljs-keyword\">return</span> mod[module_name](...args); }\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleMediaManager</span>(<span class=\"hljs-params\">noteObj</span>) {\n        <span class=\"hljs-keyword\">const</span> mod = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">import</span>(<span class=\"hljs-string\">'./allModule/mediaHandler.js'</span>);\n        mod.<span class=\"hljs-title function_\">initMediaManager</span>(noteObj);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">showUserDetails</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'show_user_details'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">showUserHistory</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'show_user_history'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">showSubjectList</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'show_subject_list'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">showChapter</span>(<span class=\"hljs-params\">subject_name, target_chapter_name, target_topic_name</span>){\n        <span class=\"hljs-keyword\">return</span>  <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'show_chapter'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>, subject_name, target_chapter_name, target_topic_name); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">newSubjectHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'new_subject_handler'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">newChapterHandler</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'new_chapter_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">newTopicHandler</span>(<span class=\"hljs-params\">topicTitle, acrItem</span>){ <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'new_topic_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>, topicTitle, acrItem); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">subjectRenameHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'subject_rename_handler'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">chapterRenameHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'chapter_rename_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">topicRenameHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'topic_rename_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">subjectDeleteHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'subject_delete_handler'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">chapterDeleteHandler</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'chapter_delete_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">topicDeleteHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'topic_delete_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">updateUserData</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'update_user_data'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">updateSubject</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'update_subject'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleReload</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'handle_reload'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleSearchResult</span>(<span class=\"hljs-params\">subject_name, chapter_name, topic_name</span>){\n    <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'handle_search_result'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>, subject_name, chapter_name, topic_name); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleContentShare</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'handle_content_share'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleSearch</span>(<span class=\"hljs-params\">val</span>) { \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'handle_search'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>, val);\n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">handleEventDelegation</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'handle_event_delegation'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>);\n     }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">saveContentHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'save_content_handler'</span>, <span class=\"hljs-literal\">true</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">modalContentHandler</span>(<span class=\"hljs-params\"></span>){ \n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'doc_module'</span>, <span class=\"hljs-string\">'modal_content_handler'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>); \n    }\n\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-title function_\">initContentCreating</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">await</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initModule</span>(<span class=\"hljs-string\">'allModule'</span>, <span class=\"hljs-string\">'init_content_creating'</span>, <span class=\"hljs-literal\">false</span>, <span class=\"hljs-variable language_\">this</span>);   \n    }\n\n\n    <span class=\"hljs-title function_\">increase_sub_changes</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_subject_changes</span>++;\n        <span class=\"hljs-title function_\">show</span>(<span class=\"hljs-string\">'#subject-changes-counter'</span>);\n        <span class=\"hljs-title function_\">text</span>(<span class=\"hljs-string\">'#subject-changes-counter'</span>, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">current_subject_changes</span>);\n    }\n\n    <span class=\"hljs-title function_\">updatePageAddress</span>(<span class=\"hljs-params\">title</span>) {\n        <span class=\"hljs-keyword\">if</span> (!title) <span class=\"hljs-keyword\">return</span>;\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">title</span> = title;\n    }\n\n    <span class=\"hljs-title function_\">autoEdit</span>(<span class=\"hljs-params\">element, callback</span>) {\n        <span class=\"hljs-title function_\">attr</span>(element, <span class=\"hljs-string\">'contenteditable'</span>, <span class=\"hljs-string\">'true'</span>);\n        element.<span class=\"hljs-title function_\">focus</span>();\n\n        <span class=\"hljs-title class_\">Trigger</span>(element, <span class=\"hljs-string\">'blur'</span>, <span class=\"hljs-function\">() =&gt;</span> {\n            element.<span class=\"hljs-title function_\">removeAttribute</span>(<span class=\"hljs-string\">'contenteditable'</span>);\n            <span class=\"hljs-title function_\">callback</span>(<span class=\"hljs-title function_\">stdText</span>(<span class=\"hljs-title function_\">text</span>(element)));\n        });\n\n        <span class=\"hljs-title class_\">Trigger</span>(element, <span class=\"hljs-string\">'keydown'</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n            <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">key</span> == <span class=\"hljs-string\">'Enter'</span>) {\n                e.<span class=\"hljs-title function_\">preventDefault</span>();\n                element.<span class=\"hljs-title function_\">removeAttribute</span>(<span class=\"hljs-string\">'contenteditable'</span>);\n            }\n        });\n    }\n\n    <span class=\"hljs-title function_\">showToast</span>(<span class=\"hljs-params\">msg, icon</span>) {\n        <span class=\"hljs-keyword\">let</span> toast = <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'#liveToast'</span>);\n        <span class=\"hljs-keyword\">if</span> (!msg) <span class=\"hljs-keyword\">return</span>;\n        <span class=\"hljs-title function_\">text</span>(<span class=\"hljs-title function_\">get</span>(toast, <span class=\"hljs-string\">'.toast-msg'</span>), msg);\n        <span class=\"hljs-keyword\">if</span> (icon) {\n            <span class=\"hljs-keyword\">let</span> toastIcon = <span class=\"hljs-title function_\">get</span>(toast, <span class=\"hljs-string\">'.toast-icon'</span>);\n            toastIcon.<span class=\"hljs-property\">className</span> = <span class=\"hljs-string\">''</span>;\n            toastIcon.<span class=\"hljs-property\">classList</span>.<span class=\"hljs-title function_\">add</span>(<span class=\"hljs-string\">'fa-solid'</span>, <span class=\"hljs-string\">`fa-<span class=\"hljs-subst\">${icon}</span>`</span>, <span class=\"hljs-string\">'fs-5'</span>, <span class=\"hljs-string\">'me-2'</span>, <span class=\"hljs-string\">'toast-icon'</span>);\n        }\n        <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'#liveToastBtn'</span>).<span class=\"hljs-title function_\">click</span>();\n    }\n\n    <span class=\"hljs-title function_\">showStatus</span>(<span class=\"hljs-params\">msg, autohide</span>) {\n        <span class=\"hljs-keyword\">let</span> msg_text = msg ? msg : <span class=\"hljs-string\">' '</span>;\n        <span class=\"hljs-keyword\">let</span> statusbar = <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'#statusBar'</span>);\n        <span class=\"hljs-title function_\">text</span>(statusbar, msg_text);\n        <span class=\"hljs-keyword\">if</span> (autohide !== <span class=\"hljs-literal\">true</span>) <span class=\"hljs-keyword\">return</span>;\n        <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> <span class=\"hljs-title function_\">text</span>(statusbar, <span class=\"hljs-string\">''</span>), <span class=\"hljs-number\">1300</span>);\n    }\n\n\n\n\n}\n\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">'DOMContentLoaded'</span>, <span class=\"hljs-function\">() =&gt;</span> {\n    <span class=\"hljs-keyword\">const</span> username = <span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>, <span class=\"hljs-string\">'data-username'</span>);\n    <span class=\"hljs-keyword\">const</span> token = <span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>, <span class=\"hljs-string\">'data-token'</span>);\n    <span class=\"hljs-keyword\">if</span> (username === <span class=\"hljs-string\">'guest'</span>) {\n        <span class=\"hljs-keyword\">return</span>;\n    }\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Doc</span>(username, token);\n});\n\n      </code></pre></li> <li data-el=\"list\">This is list item3</li></ul></div>","topic_id":5}],"chapter_id":4}]}